
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Developing handwritten text recognition for Xournal++">
      
      
      
      
      
        <link rel="next" href="installation/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.46">
    
    
      
        <title>Xournal++ HTR</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#xournal-htr" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Xournal++ HTR" class="md-header__button md-logo" aria-label="Xournal++ HTR" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Xournal++ HTR
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/PellelNitram/xournalpp_htr" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    PellelNitram/xournalpp_htr
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Xournal++ HTR" class="md-nav__button md-logo" aria-label="Xournal++ HTR" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Xournal++ HTR
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/PellelNitram/xournalpp_htr" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    PellelNitram/xournalpp_htr
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#xournal-htr-in-90-seconds" class="md-nav__link">
    <span class="md-ellipsis">
      Xournal++ HTR in 90 seconds
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-handwritten-text-recognition-for-xournal" class="md-nav__link">
    <span class="md-ellipsis">
      Why handwritten text recognition for Xournal++?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-of-these-websites" class="md-nav__link">
    <span class="md-ellipsis">
      Content of these websites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cite" class="md-nav__link">
    <span class="md-ellipsis">
      Cite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funding" class="md-nav__link">
    <span class="md-ellipsis">
      Funding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-description" class="md-nav__link">
    <span class="md-ellipsis">
      Project description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#training" class="md-nav__link">
    <span class="md-ellipsis">
      Training
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-design" class="md-nav__link">
    <span class="md-ellipsis">
      Project design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concept-1" class="md-nav__link">
    <span class="md-ellipsis">
      Concept 1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Code quality
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="data_collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Collection
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="developing_new_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing New Models
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="roadmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roadmap
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#xournal-htr-in-90-seconds" class="md-nav__link">
    <span class="md-ellipsis">
      Xournal++ HTR in 90 seconds
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-handwritten-text-recognition-for-xournal" class="md-nav__link">
    <span class="md-ellipsis">
      Why handwritten text recognition for Xournal++?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-of-these-websites" class="md-nav__link">
    <span class="md-ellipsis">
      Content of these websites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cite" class="md-nav__link">
    <span class="md-ellipsis">
      Cite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funding" class="md-nav__link">
    <span class="md-ellipsis">
      Funding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-description" class="md-nav__link">
    <span class="md-ellipsis">
      Project description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#training" class="md-nav__link">
    <span class="md-ellipsis">
      Training
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-design" class="md-nav__link">
    <span class="md-ellipsis">
      Project design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concept-1" class="md-nav__link">
    <span class="md-ellipsis">
      Concept 1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-quality" class="md-nav__link">
    <span class="md-ellipsis">
      Code quality
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="xournal-htr">Xournal++ HTR</h1>
<p>Developing <a href="https://en.wikipedia.org/wiki/Handwriting_recognition">handwritten text recognition</a> for <a href="https://github.com/xournalpp/xournalpp">Xournal++</a>.</p>
<p><em>Your contributions are greatly appreciated!</em></p>
<p>TODO: Make this documentation the central part and adapt README for example like <a href="https://github.com/jaredpalmer/formik">here</a>. Replicate sections of current README here therefore.</p>
<h2 id="xournal-htr-in-90-seconds">Xournal++ HTR in 90 seconds</h2>
<div align="center">

<iframe width="560" height="315" src="https://www.youtube.com/embed/boXm7lPFSRQ?si=Yg8tLBs-_1BtQKrU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<br>

<i>(<a href="https://www.youtube.com/watch?v=boXm7lPFSRQ?utm_source=docs&utm_medium=docs&utm_campaign=docs">Click here to get to video on YouTube.</a>)</i>

</div>

<h2 id="why-handwritten-text-recognition-for-xournal">Why handwritten text recognition for Xournal++?</h2>
<p>When moving from physical to digital note taking, one great benefit is searchability. Hence, when starting to use
digital handwritten notes, those should be searchable as well as to not compromise on the benefits of digital note
taking. This feature is called <a href="https://en.wikipedia.org/wiki/Handwriting_recognition">handwritten text recognition</a>.</p>
<p>The handwritten text recognition feature has been part of many commercial note taking apps for ages.</p>
<p>However, there exists no such handwritten text recognition feature for any open source handwriting application.</p>
<p>Hence, the goal of Xournal++ HTR is to bring handwritten text recognition to <a href="https://xournalpp.github.io/">Xournal++</a>,
which is one of the most popular open-source applications to take digital handwritten notes.</p>
<h2 id="content-of-these-websites">Content of these websites</h2>
<p>These websites document Xournal++ HTR. In the navigation bar, you can find instructions on
how to install the project, use the project and more advanced topics like how you can contribute
code and own models. Many of the documents come with small videos to get you going quicker.</p>
<p>To assist you in training your own models, Xournal++ HTR comes with many helper functions and
convenience code infrastructure.</p>
<h2 id="cite">Cite</h2>
<p>If you are using Xournal++ HTR for your research, I'd appreciate if you could cite it. Use:</p>
<pre><code>@software{Lellep_Xournalpp_HTR,
  author = {Lellep, Martin},
  title = {xournalpp_htr},
  url = {https://github.com/PellelNitram/xournalpp_htr},
  license = {GPL-2.0},
}
</code></pre>
<p>(Also consider starring the project on GitHub.)</p>
<h2 id="funding">Funding</h2>
<p>TODO: Add a buy me a coffee link.</p>
<h2 id="project-description">Project description</h2>
<p>Taking handwritten notes digitally comes with many benefits but lacks searchability of your notes. Hence, there is a need to make your handwritten notes searchable. This can be achieved with <a href="https://en.wikipedia.org/wiki/Handwriting_recognition">"handwritten text recognition" (HTR)</a>, which is the process of assigning searchable text to written strokes.</p>
<p>While many commercial note taking apps feature great HTR systems to make your notes searchable and there are a number of existing open-source implementations of various algorithms, there is no HTR feature available in an open-source note taking application that is privacy aware and processes your data locally.</p>
<div align="center">
    <p><b>The purpose of the <i>Xournal++ HTR</i> project is to change that!</b></p>
</div>

<p>Xournal++ HTR strives to bring open-source on-device handwriting recognition to <a href="https://github.com/xournalpp/xournalpp">Xournal++</a> as it is one of the most adopted open-source note taking apps and thereby HTR can be delivered to the largest possible amount of users.</p>
<h2 id="training">Training</h2>
<h3 id="installation">Installation</h3>
<p>Follow the above installation procedure and replace the step <code>pip install -r requirements.txt</code> by both <code>pip install -r requirements.txt</code> and <code>pip install -r requirements_training.txt</code> to install both the inference and training dependencies.</p>
<h2 id="project-design">Project design</h2>
<p>The design of Xournal++ HTR tries to bridge the gap between both delivering a production ready product and allowing contributors to experiment with new algorithms.</p>
<p>The project design involves a Lua plugin and a Python backend, see the following figure. First, the production ready product is delivered by means of an Xournal++ plugin. The plugin is fully integrated in Xournal++ and calls a Python backend that performs the actual transcription. The Python backend allows selection of various recognition models and is thereby fully extendable with new models.</p>
<div align="center">
    <img src="docs/images/system_design.jpg" width="50%">
    <p><i>Design of xournalpp_htr.</i></p>
</div>

<p>An alternative figure is shown below: (todo: restructure readme)</p>
<pre><code class="language-mermaid">sequenceDiagram
    User in Xpp--&gt;&gt;Xpp HTR Plugin: starts process using currently open file
    Xpp HTR Lua Plugin --&gt;&gt;Xpp HTR Python Backend: constructs command using CLI
    Xpp HTR Python Backend --&gt;&gt; Xpp HTR Python Backend: Does OCR &amp; stores PDF
    Xpp HTR Python Backend--&gt;&gt;User in Xpp: Gives back control to UI
</code></pre>
<p>Developing a usable HTR systems requires experimentation. The project structure is set up to accommodate this need. <em>Note that ideas on improved project structures are appreciated.</em></p>
<p>The experimentation is carried out in terms of "concepts". Each concept explores a different approach to HTR and possibly improves over previous concepts, but not necessarily to allow for freedom in risky experiments. Concept 1 is already implemented and uses a computer vision approach that is explained below.</p>
<p>Future concepts might explore:
- Retrain computer vision models from concept 1 using native data representation of <a href="https://github.com/xournalpp/xournalpp">Xournal++</a>
- Use sequence-to-sequence models to take advantage of native data representation of <a href="https://github.com/xournalpp/xournalpp">Xournal++</a>
- Use data augmentation to increase effective size of training data
- Use of language models to correct for spelling mistakes</p>
<h3 id="concept-1">Concept 1</h3>
<p>This concept uses computer vision based algorithms to first detect words on a page and then to read those words.</p>
<p>The following shows a video demo on YouTube using real-life handwriting data from a Xournal file:</p>
<p><a href="https://www.youtube.com/watch?v=FGD_O8brGNY"><img alt="Xournal++ HTR - Concept 1 - Demo" src="https://img.youtube.com/vi/FGD_O8brGNY/0.jpg" /></a></p>
<p>Despite not being perfect, the main take away is that the performance is surprisingly good given that the underlying algorithm has not been optimised for Xournal++ data at all.</p>
<p><strong>The performance is sufficiently good to be useful for the Xournal++ user base.</strong></p>
<p>Feel free to play around with the demo yourself using <a href="https://github.com/PellelNitram/xournalpp_htr/blob/master/scripts/demo_concept_1.sh">this code</a> after <a href="installation/">installing this project</a>. The "concept 1" is also what is currently used in the plugin and shown in the <a href="https://www.youtube.com/watch?v=boXm7lPFSRQ">90 seconds demo</a>.</p>
<p>Next steps to improve the performance of the handwritten text recognition even further could be:
- Re-train the algorithm on Xournal++ specific data, while potentially using data augmentation.
- Use language model to improve text encoding.
- Use sequence-to-sequence algorithm that makes use of <a href="https://github.com/xournalpp/xournalpp">Xournal++</a>'s data format. This translates into using online HTR algorithms.</p>
<p>I would like to acknowledge <a href="https://github.com/githubharald">Harald Scheidl</a> in this concept as he wrote the underlying algorithms and made them easily usable through <a href="https://github.com/githubharald/HTRPipeline">his HTRPipeline repository</a> - after all I just feed his algorithm <a href="https://github.com/xournalpp/xournalpp">Xournal++</a> data in concept 1. <a href="https://githubharald.github.io/">Go check out his great content</a>!</p>
<h2 id="code-quality">Code quality</h2>
<p>We try to keep up code quality as high as practically possible. For that reason, the following steps are implemented:</p>
<ul>
<li>Testing. Xournal++ HTR uses <code>pytest</code> for implementing unit, regression and integration tests.</li>
<li>Linting. Xournal++ HTR uses <code>ruff</code> for linting and code best practises. <code>ruff</code> is implemented as git pre-commit hook. Since <code>ruff</code> as pre-commit hook is configured externally with <code>pyproject.toml</code>, you can use the same settings in your IDE if you wish to speed up the process.</li>
<li>Formatting. Xournal++ HTR uses <code>ruff-format</code> for consistent code formatting. <code>ruff-format</code> is implemented as git pre-commit hook. Since <code>ruff-format</code> as pre-commit hook is configured externally with <code>pyproject.toml</code>, you can use the same settings in your IDE if you wish to speed up the process.</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 30, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 5, 2024</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>